<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
 <meta name="Page-topic" content="LDchg()" />
 <meta name="Description" content="ST-Open Bibliotheken: LDchg()" />
 <meta name="Keywords" content="ST-Open Weichwaren, Open Quelle, ST-Open, Weichwaren, Bibliothek, Bibliotheken, freie Weichwaren, Assembler, C" />
 <meta name="date" content="2009-05-08T00:00:00+00:00" />
 <meta name="robots" content="index,follow" />
 <meta name="revisit-after" content="14 days" />
 <meta name="generator" content="Bernhard Schornak, handwritten" />
 <style type="text/css"><!--@import "../../st.css";--></style>
 <link rel="SHORTCUT ICON" href="../../../../pics/favicon.ico" />
 <title>LDchg()</title>
</head>
<body id="top">
<div class="pagehd">
<div id="menu">
<ul>
 <li><a href="../../../index.htm">Weichwaren</a></li>
 <li><a href="../tut/index.htm">Tutorials</a></li>
 <li><a href="../index.htm">Dokumentation</a></li>
 <li><a href="../alp.htm">alphabetisch</a></li>
 <li><a href="../fct.htm">nach Funktion</a></li>
</ul>
</div>
<div class="update">[2009-05-08]</div>
<div class="headpc"><img src="../../pics/ste.png" alt="QuelleDoc Logo" width="75" height="75" border="0" /></div>
</div>
<div class="crlf1"></div>
&#160;&#160;&#160;<a href="../index.htm"><img src="../../../../pics/nav_up.png" alt="aufw&auml;rts" width="20" height="20" border="0" title="aufw&auml;rts" /></a>
&#160;&#160;&#160;<a href="ldr01.htm"><img src="../../../../pics/nav_bk.png" alt="zur&uuml;ck" width="20" height="20" border="0" title="zur&uuml;ck" /></a>
&#160;&#160;&#160;<a href="ldr03.htm"><img src="../../../../pics/nav_fw.png" alt="vorw&auml;rts" width="20" height="20" border="0" title="vorw&auml;rts" /></a>
&#160;&#160;&#160;<a href="../tut/FFFF.htm">Glossar</a>
<div class="crlf1"></div>
<div class="text100"><div class="inner">..\st7\lib\sources\core\ldr.S</div><div class="outer"><big>sys.lib</big></div></div>
<div class="crlf1"></div>
<div class="text100"><div class="inner"><b>LDchg</b></div><div class="outer">Funktion</div></div><div class="crlf0"></div>
<div class="text100"><div class="inner">rc = LDchg(SpeiHenk, NeuGr&ouml;);</div><div class="outer">Aufruf</div></div><div class="crlf0"></div>
<div class="text100"><div class="inner">
<div class="inners">DD</div>
<div class="inners">SpeiHenk</div>
<div class="innerl">Speicherhenkel des Speicherblocks</div>
<div class="crlf0"></div>
<div class="inners">DD</div>
<div class="inners">NeuGr&ouml;</div>
<div class="innerl">neue Gr&ouml;sse des Speicherblocks</div>
</div><div class="outer">Eingabe</div></div><div class="crlf0"></div>
<div class="text100"><div class="inner">
<div class="inners">DD</div>
<div class="inners">rc</div>
<div class="innerl">Fehlercodes siehe Quelle</div>
</div><div class="outer">Ausgabe</div></div><div class="crlf0"></div>
<div class="text100"><div class="inner">
LDchg() vergr&ouml;ssert oder verkleinert einen existierenden Speicherblock. Der neue Speicherblock wird alloziert und der Inhalt des alten Speicherblocks in den
 neuen Speicherblock kopiert. Abschliessend wird der alte Speicherblock freigegeben. Wenn der Speicherblock verkleinert wird, dann wird nur der in den neuen
 Speicherblock passende Inhalt kopiert. Datenfelder werden von der Datenbankmaschine selbst&auml;ndig verwaltet - Eingriffe des Anwenders in die dynamische
 Verwaltung f&uuml;hren zu Fehlfunktionen und machen das betroffene Datenfeld unbrauchbar!
<div class="crlf1"></div>
<b>Achtung:</b> Die Adresse LD.MemEA ist - im Gegensatz zum Speicherhenkel LD.MMoff - nach dem Aufruf nicht mehr g&uuml;ltig. Sie muss mit der Funktion LDupd()
 korrigiert werden, wenn die LD-Struktur noch verf&uuml;gbar ist. Ist das nicht der Fall, so kann wie im Beispiel aufgezeigt verfahren werden.
</div><div class="outer">Beschreibung</div></div><div class="crlf0"></div>
<div class="text100"><div class="inner">
<pre>
VOID * MeineFunktion(DD mh)
{
 VOID *p;
 DD    rc;
 rc = LDchg(mh, 0x3000);
 p  = Prd((VOID *)mh, 0);
 return(p);
}
</pre>
Die Funktion &auml;ndert die Gr&ouml;sse des Speicherblocks mit dem Speicherhenkel mh. Da sich die Adresse des neuen Speicherblocks ge&auml;ndert hat, wird die neue
 Adresse &uuml;ber den Speicherhenkel mh direkt aus der Ladertabelle gelesen (Doppelwort im Abstand 0x00 zu mh) und in der Variablen p zur&uuml;ckgegeben.
</div><div class="outer">Beispiel</div></div><div class="crlf0"></div>
<div class="crlf2"></div>
&#160;&#160;&#160;<a href="../index.htm"><img src="../../../../pics/nav_up.png" alt="aufw&auml;rts" width="20" height="20" border="0" title="aufw&auml;rts" /></a>
&#160;&#160;&#160;<a href="ldr01.htm"><img src="../../../../pics/nav_bk.png" alt="zur&uuml;ck" width="20" height="20" border="0" title="zur&uuml;ck" /></a>
&#160;&#160;&#160;<a href="ldr03.htm"><img src="../../../../pics/nav_fw.png" alt="vorw&auml;rts" width="20" height="20" border="0" title="vorw&auml;rts" /></a>
<div class="crlf1"></div>
&#160;&#160;&#160;<a href="http://validator.w3.org/check?uri=http%3A%2F%2Fst-open.com%2Fst-open%2Fdoc%2Fd%2Fsys%2Fldr02.htm">
<img src="../../../../pics/xhtml.png" alt="validHTML" width="100" height="35" border="0" title="XHTML pr&uuml;fen" /></a>
<div class="crlf1"></div>
</body>
</html>
